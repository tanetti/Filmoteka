!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequired76b;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired76b=n),n.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){d.default(e,t),t.add(e)};var c,d=(c=n("5k7tO"))&&c.__esModule?c:{default:c};var u={};function s(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e,t,r){t&&s(e.prototype,t);r&&s(e,r);return e};var f="filmotekaPageState",h=new WeakSet,y=new WeakSet;function m(){var e=localStorage.getItem(f);if(e)try{var t=JSON.parse(e),r=!0,a=!1,n=void 0;try{for(var o,i=Object.keys(t)[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;if(!["locale","mode","currentPage"].includes(l))throw new Error}}catch(e){a=!0,n=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw n}}return t}catch(e){localStorage.removeItem(f)}}function v(){var e={locale:this._locale,mode:this._mode,currentPage:this._currentPage};localStorage.setItem(f,JSON.stringify(e))}var g=new(function(){"use strict";function t(){e(o)(this,t),e(l)(this,h),e(l)(this,y),this._locale="en",this._mode="light",this._currentPage="home"}return e(u)(t,[{key:"locale",get:function(){return this._locale},set:function(t){["en","ua"].includes(t)&&(this._locale=t,e(i)(this,y,v).call(this))}},{key:"mode",get:function(){return this._mode},set:function(t){["light","dark"].includes(t)&&(this._mode=t,e(i)(this,y,v).call(this))}},{key:"currentPage",get:function(){return this._currentPage},set:function(t){["home","libraryA","libraryB"].includes(t)&&(this._currentPage=t,e(i)(this,y,v).call(this))}},{key:"init",value:function(){var t=e(i)(this,h,m).call(this);t&&(this._locale=t.locale,this._mode=t.mode,this._currentPage=t.currentPage)}}]),t}()),_={en:{header:{locale:"EN",home:"Home",library:"My library",signIn:"Sign In"}},ua:{header:{locale:"UA",home:"Головна",library:"Бібліотека",signIn:"Увійти"}}},b={headerLocaleFields:{headerContainer:document.querySelector("[data-header]")}.headerContainer.querySelectorAll("[data-locale_field]")},w=function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=Array.from(b.headerLocaleFields)[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i=n.value;i.textContent=_[e].header[i.dataset.locale_field]}}catch(e){r=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}},p=function(e){if(bodyClassRef=document.body.classList,switchRef=document.querySelector("[data-mode_switch]"),"light"===e&&bodyClassRef.contains("dark-mode"))return bodyClassRef.remove("dark-mode"),void(switchRef.checked=!1);"dark"!==e||bodyClassRef.contains("dark-mode")||(bodyClassRef.add("dark-mode"),switchRef.checked=!0),bodyClassRef.contains("isLoaded")||setTimeout((function(){return bodyClassRef.add("isLoaded")}),250)},k={localeSwitch:document.querySelector("[data-locale_switch]"),modeSwitch:document.querySelector("[data-mode_switch]")};g.init(),p(g.mode),w(g.locale);k.localeSwitch.addEventListener("click",(function(){g.locale="en"===g.locale?"ua":"en",w(g.locale)})),k.modeSwitch.addEventListener("change",(function(){g.mode="light"===g.mode?"dark":"light",p(g.mode)}))}();
//# sourceMappingURL=index.e44d2bd2.js.map
