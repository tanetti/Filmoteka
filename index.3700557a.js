!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},r=t.parcelRequired76b;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return o[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},t.parcelRequired76b=r),r.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,o){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return o};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){d.default(e,t),t.add(e)};var c,d=(c=r("5k7tO"))&&c.__esModule?c:{default:c};var s={};function u(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t,o){t&&u(e.prototype,t);o&&u(e,o);return e};var f="filmotekaPageState",h=new WeakSet,y=new WeakSet;function m(){var e=localStorage.getItem(f);if(e)try{var t=JSON.parse(e),o=!0,a=!1,r=void 0;try{for(var n,i=Object.keys(t)[Symbol.iterator]();!(o=(n=i.next()).done);o=!0){var l=n.value;if(!["locale","mode","currentPage"].includes(l))throw new Error}}catch(e){a=!0,r=e}finally{try{o||null==i.return||i.return()}finally{if(a)throw r}}return t}catch(e){localStorage.removeItem(f)}}function v(){var e={locale:this._locale,mode:this._mode,currentPage:this._currentPage};localStorage.setItem(f,JSON.stringify(e))}var p=new(function(){"use strict";function t(){e(n)(this,t),e(l)(this,h),e(l)(this,y),this._locale="en",this._mode="light",this._currentPage="home"}return e(s)(t,[{key:"locale",get:function(){return this._locale},set:function(t){["en","ua"].includes(t)&&(this._locale=t,e(i)(this,y,v).call(this))}},{key:"mode",get:function(){return this._mode},set:function(t){["light","dark"].includes(t)&&(this._mode=t,e(i)(this,y,v).call(this))}},{key:"currentPage",get:function(){return this._currentPage},set:function(t){["home","libraryA","libraryB"].includes(t)&&(this._currentPage=t,e(i)(this,y,v).call(this))}},{key:"init",value:function(){var t=e(i)(this,h,m).call(this);t&&(this._locale=t.locale,this._mode=t.mode,this._currentPage=t.currentPage)}}]),t}());p.init();var _={headerContainer:document.querySelector("[data-header]"),footerContainer:document.querySelector("[data-footer]"),localeSwitch:document.querySelector("[data-locale_switch]"),modeSwitch:document.querySelector("[data-mode_switch]")},g={en:{header:{locale:"EN",home:"Home",library:"My library",signIn:"Sign In",placeholder:"Search movies"},footer:{rights:"All Rights Reserved"}},ua:{header:{locale:"UA",home:"Головна",library:"Бібліотека",signIn:"Увійти",placeholder:"Пошук фільмів"},footer:{rights:"Bсі Права Захищено"}}},b=function(e){S(e),C(e)},w={headerLocaleFields:_.headerContainer.querySelectorAll("[data-locale_field]")},S=function(e){var t=!0,o=!1,a=void 0;try{for(var r,n=function(t,o){var a=o.value;if(a.placeholder){if(document.body.classList.contains("is-loaded"))return a.classList.add("placeholder-opacity-transition","placeholder-opacity"),setTimeout((function(){a.placeholder=g[e].header[a.dataset.locale_field],a.classList.remove("placeholder-opacity")}),150),"continue";a.placeholder=g[e].header[a.dataset.locale_field]}if(document.body.classList.contains("is-loaded"))return a.classList.add("opacity-transition","opacity"),setTimeout((function(){a.textContent=g[e].header[a.dataset.locale_field],a.classList.remove("opacity")}),150),"continue";a.textContent=g[e].header[a.dataset.locale_field]},i=Array.from(w.headerLocaleFields)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)n(0,r)}catch(e){o=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(o)throw a}}},k={footerLocaleFields:_.footerContainer.querySelectorAll("[data-locale_field]")},C=function(e){var t=!0,o=!1,a=void 0;try{for(var r,n=function(t,o){var a=o.value;if(document.body.classList.contains("is-loaded"))return a.classList.add("opacity-transition","opacity"),setTimeout((function(){a.textContent=g[e].footer[a.dataset.locale_field],a.classList.remove("opacity")}),150),"continue";a.textContent=g[e].footer[a.dataset.locale_field]},i=Array.from(k.footerLocaleFields)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)n(0,r)}catch(e){o=!0,a=e}finally{try{t||null==i.return||i.return()}finally{if(o)throw a}}},L=function(e){if(bodyClassRef=document.body.classList,"light"===e&&bodyClassRef.contains("dark-mode"))return bodyClassRef.remove("dark-mode"),void(_.modeSwitch.checked=!1);"dark"!==e||bodyClassRef.contains("dark-mode")||(bodyClassRef.add("dark-mode"),_.modeSwitch.checked=!0),bodyClassRef.contains("is-loaded")||setTimeout((function(){return bodyClassRef.add("is-loaded")}),250)};L(p.mode),b(p.locale),_.localeSwitch.addEventListener("click",(function(){p.locale="en"===p.locale?"ua":"en",b(p.locale)})),_.modeSwitch.addEventListener("change",(function(){p.mode="light"===p.mode?"dark":"light",L(p.mode)}))}();
//# sourceMappingURL=index.3700557a.js.map
