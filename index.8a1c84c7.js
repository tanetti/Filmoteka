function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},l=t.parcelRequired76b;null==l&&((l=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var l={id:e,exports:{}};return o[e]=l,t.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired76b=l),l.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));var r={};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,o){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return o};var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t){s.default(e,t),t.add(e)};var d,s=(d=l("7K24o"))&&d.__esModule?d:{default:d};var n=new WeakSet,c=new WeakSet;function h(){const e=localStorage.getItem("filmotekaPageState");if(e)try{const t=JSON.parse(e);for(const e of Object.keys(t))if(!["locale","mode","currentPage"].includes(e))throw new Error;return t}catch{localStorage.removeItem("filmotekaPageState")}}function u(){const e={locale:this._locale,mode:this._mode,currentPage:this._currentPage};localStorage.setItem("filmotekaPageState",JSON.stringify(e))}const f=new class{get locale(){return this._locale}set locale(t){["en","ua"].includes(t)&&(this._locale=t,e(r)(this,c,u).call(this))}get mode(){return this._mode}set mode(t){["light","dark"].includes(t)&&(this._mode=t,e(r)(this,c,u).call(this))}get currentPage(){return this._currentPage}set currentPage(t){["home","libraryA","libraryB"].includes(t)&&(this._currentPage=t,e(r)(this,c,u).call(this))}init(){const t=e(r)(this,n,h).call(this);t&&(this._locale=t.locale,this._mode=t.mode,this._currentPage=t.currentPage)}constructor(){e(i)(this,n),e(i)(this,c),this._locale="en",this._mode="light",this._currentPage="home"}};f.init();const m={headerContainer:document.querySelector("[data-header]"),footerContainer:document.querySelector("[data-footer]"),localeSwitch:document.querySelector("[data-locale_switch]"),modeSwitch:document.querySelector("[data-mode_switch]")},y={en:{header:{locale:"EN",home:"Home",library:"My library",signIn:"Sign In",placeholder:"Search movies"},footer:{rights:"All Rights Reserved"}},ua:{header:{locale:"UA",home:"Головна",library:"Бібліотека",signIn:"Увійти",placeholder:"Пошук фільмів"},footer:{rights:"Bсі Права Захищено"}}},g=e=>{_(e),w(e)},p={headerLocaleFields:m.headerContainer.querySelectorAll("[data-locale_field]")},_=e=>{for(const t of Array.from(p.headerLocaleFields)){if(t.placeholder){if(document.body.classList.contains("is-loaded")){t.classList.add("placeholder-opacity-transition","placeholder-opacity"),setTimeout((()=>{t.placeholder=y[e].header[t.dataset.locale_field],t.classList.remove("placeholder-opacity")}),150);continue}t.placeholder=y[e].header[t.dataset.locale_field]}document.body.classList.contains("is-loaded")?(t.classList.add("opacity-transition","opacity"),setTimeout((()=>{t.textContent=y[e].header[t.dataset.locale_field],t.classList.remove("opacity")}),150)):t.textContent=y[e].header[t.dataset.locale_field]}},b={footerLocaleFields:m.footerContainer.querySelectorAll("[data-locale_field]")},w=e=>{for(const t of Array.from(b.footerLocaleFields))document.body.classList.contains("is-loaded")?(t.classList.add("opacity-transition","opacity"),setTimeout((()=>{t.textContent=y[e].footer[t.dataset.locale_field],t.classList.remove("opacity")}),150)):t.textContent=y[e].footer[t.dataset.locale_field]},S=e=>{if(bodyClassRef=document.body.classList,"light"===e&&bodyClassRef.contains("dark-mode"))return bodyClassRef.remove("dark-mode"),void(m.modeSwitch.checked=!1);"dark"!==e||bodyClassRef.contains("dark-mode")||(bodyClassRef.add("dark-mode"),m.modeSwitch.checked=!0),bodyClassRef.contains("is-loaded")||setTimeout((()=>bodyClassRef.add("is-loaded")),250)};S(f.mode),g(f.locale),m.localeSwitch.addEventListener("click",(()=>{f.locale="en"===f.locale?"ua":"en",g(f.locale)})),m.modeSwitch.addEventListener("change",(()=>{f.mode="light"===f.mode?"dark":"light",S(f.mode)}));
//# sourceMappingURL=index.8a1c84c7.js.map
